<script>
/* Defines the needed variables in global scope. */
let playerScore = 0;
let computerScore = 0;
let announceResult = "";

/* lets the computer choose a random item from array "weapons".*/
function computerPlay() {
    const weapons = ["Rock", "Paper", "Scissors"];
        let computerSelection = weapons[Math.floor(Math.random() * weapons.length)];
        return computerSelection;
}
  
/* plays a single round of the game. compares playerSelection and computerSelection variables, announces a winner and adds 1 point to the winneres score. */
function playRound(playerSelection, computerSelection) {

    playerSelection = prompt("Choose between ROCK, PAPER or SCISSORS", "").toLowerCase();
    computerSelection = computerPlay().toLowerCase();

    if (playerSelection == computerSelection) {
            playerScore++;
            computerScore++;
            announceResult = "It's a tie";
            return (announceResult);
        } else if (playerSelection == "rock" && computerSelection == "paper") {
            computerScore++;
            announceResult = "You lose! Paper beats Rock";
            return (announceResult);
        } else if (playerSelection == "rock" && computerSelection == "scissors") {
            playerScore++;
            announceResult = "You win! Rock beats Scissors";
            return (announceResult);
        } else if (playerSelection == "paper" && computerSelection == "rock") {
            playerScore++;
            announceResult = "You win! Paper beats Rock";
            return (announceResult);
        } else if (playerSelection == "paper" && computerSelection == "scissors") {
            computerScore++;
            announceResult = "You lose! Scisors beats Paper";
            return (announceResult);
        } else if (playerSelection == "scissors" && computerSelection == "rock") {
            computerScore++;
            announceResult = "You lose! Rock beats Scissors";
            return announceResult;
        } else if (playerSelection == "scissors" && computerSelection == "paper") {
            playerScore++;
            announceResult = "Your win! Scissors beats Paper";
            return (announceResult);
        } else {announceResult = "This weapon is not allowed!";
            return ("This weapon is not allowed!")}
}

/* compares the final scores and announces the winner. */
function finalResult() {
        if (playerScore > computerScore) {
            console.log("::FINAL RESULT::")
            console.log("You won the Game!");
            console.log("Player score " + playerScore);
            console.log("Computer score " + computerScore);
        } else if (playerScore < computerScore) {
            console.log("::FINAL RESULT::")
            console.log("You lost the Game!");
            console.log("Player score " + playerScore);
            console.log("Computer score " + computerScore);
        } else {
            console.log("::FINAL RESULT::")
            console.log("It's a tie!");
        }
}

/* resets the score to 0 */
function resetScore() {
    playerScore = 0;
    computerScore = 0;
}

/* plays 5 rounds of the game via a loop. Announces the results for each round, the final result after 5 rounds and resets the scores to 0. */
function game() {
        console.log("Choose between the mighty ROCK, the wrapping PAPER or the cutting SCISSORS")
        for (let numberOfRoundsPlayed = 0; numberOfRoundsPlayed < 5; numberOfRoundsPlayed++) {
            playRound();
            console.log(announceResult);
            console.log("Player score " + playerScore);
            console.log("Computer score " + computerScore);
            console.log(" ");
        }
        finalResult();
        resetScore();
}

</script>